# è®¢å•ç®¡ç†ç»Ÿä¸€æ¶æ„å®ç°æ–¹æ¡ˆ

## ğŸ“‹ é¡¹ç›®èƒŒæ™¯

### å½“å‰çŠ¶æ€
- âœ… èƒ½é‡é—ªç§Ÿè®¢å•å·²å®Œæ•´å®ç°
- â³ ç¬”æ•°å¥—é¤è®¢å•æ•°æ®ç»“æ„å·²å¤‡å¥½ï¼Œä¸šåŠ¡é€»è¾‘å¾…å®Œå–„
- â³ TRXé—ªå…‘è®¢å•æ•°æ®ç»“æ„å·²å¤‡å¥½ï¼Œä¸šåŠ¡é€»è¾‘å¾…å®Œå–„
- ğŸ¯ éœ€è¦ç»Ÿä¸€çš„è®¢å•ç®¡ç†ç•Œé¢æ¥ç®¡ç†ä¸‰ç§ä¸åŒç±»å‹çš„è®¢å•

### é¡¹ç›®ç›®æ ‡
1. å®ç°ç»Ÿä¸€çš„è®¢å•ç®¡ç†ç•Œé¢ï¼Œæ”¯æŒä¸‰ç§è®¢å•ç±»å‹çš„æ˜¾ç¤ºå’Œç®¡ç†
2. é€šè¿‡æ™ºèƒ½å­—æ®µæ˜ å°„å’Œæ¡ä»¶æ¸²æŸ“è§£å†³ä¸åŒè®¢å•ç±»å‹çš„å­—æ®µå·®å¼‚é—®é¢˜
3. æä¾›ç±»å‹è¿‡æ»¤åŠŸèƒ½ï¼Œæ–¹ä¾¿ç®¡ç†å‘˜æŒ‰ç±»å‹æŸ¥çœ‹è®¢å•
4. ä¿æŒç°æœ‰èƒ½é‡é—ªç§ŸåŠŸèƒ½çš„å®Œæ•´æ€§ï¼Œç¡®ä¿ä¸å½±å“ç°æœ‰ä¸šåŠ¡

## ğŸ—ï¸ æŠ€æœ¯æ–¹æ¡ˆ

### æ ¸å¿ƒæ¶æ„
**ç»Ÿä¸€è®¢å•ç®¡ç† + åŠ¨æ€å­—æ®µæ¸²æŸ“ + ç±»å‹è¿‡æ»¤**

```
è®¢å•ç®¡ç†é¡µé¢
â”œâ”€â”€ è®¢å•ç±»å‹æ ‡ç­¾é¡µ (å…¨éƒ¨/èƒ½é‡é—ªç§Ÿ/ç¬”æ•°å¥—é¤/TRXé—ªå…‘)
â”œâ”€â”€ ç»Ÿä¸€è®¢å•åˆ—è¡¨ç»„ä»¶
â”‚   â”œâ”€â”€ é€šç”¨å­—æ®µ (IDã€ç”¨æˆ·ã€é‡‘é¢ã€æ—¶é—´ã€çŠ¶æ€)
â”‚   â””â”€â”€ ä¸šåŠ¡ä¿¡æ¯åˆ— (æ ¹æ®è®¢å•ç±»å‹åŠ¨æ€æ¸²æŸ“)
â”œâ”€â”€ è®¢å•ç­›é€‰å™¨ (å¢å¼ºç±»å‹è¿‡æ»¤)
â””â”€â”€ è®¢å•è¯¦æƒ…æ¨¡æ€æ¡† (ç±»å‹ç‰¹å®šä¿¡æ¯æ˜¾ç¤º)
```

### å­—æ®µå·®å¼‚å¤„ç†æ–¹æ¡ˆ
| è®¢å•ç±»å‹ | ç‰¹æœ‰æ˜¾ç¤ºå­—æ®µ | ä¸šåŠ¡ä¿¡æ¯åˆ—å†…å®¹ |
|---------|------------|------------|
| **èƒ½é‡é—ªç§Ÿ** | `delegated_energy_amount`, `energy_pool_account_used`, `delegate_tx_hash` | èƒ½é‡æ•°é‡ + å§”æ‰˜çŠ¶æ€ + æ± è´¦æˆ· |
| **ç¬”æ•°å¥—é¤** | `transaction_count`, `package_name`, `remaining_transactions` | å¥—é¤åç§° + ç¬”æ•°è¿›åº¦ + æœ‰æ•ˆæœŸ |
| **TRXé—ªå…‘** | `exchange_rate`, `input_amount`, `output_amount`, `input_currency` | æ±‡ç‡ + å…‘æ¢é‡‘é¢ + è´§å¸ç±»å‹ |

## ğŸš€ å¼€å‘ä»»åŠ¡åˆ†è§£

### Phase 1: å‰ç«¯ç•Œé¢ç»Ÿä¸€é€‚é… (é¢„è®¡ 2-3 å¤©)

#### ä»»åŠ¡ 1.1: è®¢å•åˆ—è¡¨ç»„ä»¶é‡æ„
**æ–‡ä»¶**: `src/pages/Orders/components/OrderList.vue`

**ä»»åŠ¡å†…å®¹**:
1. **ä¿®æ”¹è¡¨å¤´ç»“æ„**
   - å°†"èƒ½é‡å§”æ‰˜çŠ¶æ€"åˆ—æ”¹ä¸º"ä¸šåŠ¡ä¿¡æ¯"åˆ—
   - ä¿æŒå…¶ä»–åˆ—çš„é€šç”¨æ€§

2. **å®ç°åŠ¨æ€å­—æ®µæ¸²æŸ“**
   ```vue
   <!-- ä¸šåŠ¡ä¿¡æ¯åˆ—åŠ¨æ€å†…å®¹ -->
   <td class="px-3 py-3 whitespace-nowrap">
     <!-- èƒ½é‡é—ªç§Ÿ -->
     <EnergyFlashOrderCell 
       v-if="order.order_type === 'energy_flash'" 
       :order="order" 
       :config="flashRentConfig" 
     />
     
     <!-- ç¬”æ•°å¥—é¤ -->
     <TransactionPackageOrderCell 
       v-else-if="order.order_type === 'transaction_package'" 
       :order="order" 
     />
     
     <!-- TRXé—ªå…‘ -->
     <TrxExchangeOrderCell 
       v-else-if="order.order_type === 'trx_exchange'" 
       :order="order" 
     />
     
     <!-- æœªçŸ¥ç±»å‹æç¤º -->
     <div v-else class="text-xs text-gray-400 italic">
       æœªçŸ¥è®¢å•ç±»å‹: {{ order.order_type }}
     </div>
   </td>
   ```

3. **æ›´æ–°å·¥å…·å‡½æ•°**
   - `getOrderTypeText()` å‡½æ•°æ”¯æŒä¸‰ç§ç±»å‹
   - `formatPrice()`, `calculateOrderCount()` å‡½æ•°é€‚é…ä¸åŒç±»å‹

#### ä»»åŠ¡ 1.2: åˆ›å»ºè®¢å•ç±»å‹ä¸“ç”¨ç»„ä»¶
**æ–°å»ºæ–‡ä»¶**:
- `src/pages/Orders/components/cells/EnergyFlashOrderCell.vue`
- `src/pages/Orders/components/cells/TransactionPackageOrderCell.vue`
- `src/pages/Orders/components/cells/TrxExchangeOrderCell.vue`

**EnergyFlashOrderCell.vue å®ç°**:
```vue
<template>
  <div class="space-y-1">
    <div class="text-sm font-medium text-blue-700">
      {{ formatEnergy(order, config) }} èƒ½é‡
    </div>
    <div class="text-xs">
      <span :class="getDelegationStatusColor(order)" 
            class="inline-flex px-2 py-0.5 text-xs font-medium rounded">
        {{ getDelegationStatusText(order) }}
      </span>
    </div>
    <div v-if="order.energy_pool_account_used" 
         class="text-xs text-blue-500 font-mono" 
         :title="order.energy_pool_account_used">
      <span class="font-medium">æ± :</span> 
      {{ formatAddress(order.energy_pool_account_used) }}
    </div>
    <div v-if="order.error_message" 
         class="text-xs text-red-600 truncate max-w-32" 
         :title="order.error_message">
      <span class="font-medium">é”™è¯¯:</span> {{ order.error_message }}
    </div>
  </div>
</template>
```

**TransactionPackageOrderCell.vue å®ç°**:
```vue
<template>
  <div class="space-y-1">
    <div class="text-sm font-medium text-purple-700">
      {{ order.package_name || 'æ ‡å‡†å¥—é¤' }}
    </div>
    <div class="text-xs text-gray-600">
      <span class="font-medium">ç¬”æ•°:</span> 
      {{ order.used_transactions || 0 }}/{{ order.transaction_count || 0 }}
    </div>
    <div v-if="order.duration_hours" class="text-xs text-orange-600">
      <span class="font-medium">æœ‰æ•ˆæœŸ:</span> 
      {{ order.duration_hours }}å°æ—¶
    </div>
    <div v-if="order.remaining_transactions !== undefined" 
         class="text-xs" 
         :class="order.remaining_transactions > 0 ? 'text-green-600' : 'text-gray-400'">
      <span class="font-medium">å‰©ä½™:</span> 
      {{ order.remaining_transactions }} ç¬”
    </div>
  </div>
</template>
```

**TrxExchangeOrderCell.vue å®ç°**:
```vue
<template>
  <div class="space-y-1">
    <div class="text-sm font-medium text-indigo-700">
      <span v-if="order.exchange_rate">
        æ±‡ç‡: {{ order.exchange_rate }}
      </span>
      <span v-else class="text-gray-400">å¾…å…‘æ¢</span>
    </div>
    <div v-if="order.input_amount && order.output_amount" 
         class="text-xs text-gray-600">
      {{ order.input_amount }} {{ order.input_currency || 'TRX' }} 
      â†’ {{ order.output_amount }} {{ order.output_currency || 'USDT' }}
    </div>
    <div class="text-xs">
      <span :class="getExchangeStatusColor(order)" 
            class="inline-flex px-2 py-0.5 text-xs font-medium rounded">
        {{ getExchangeStatusText(order) }}
      </span>
    </div>
  </div>
</template>
```

#### ä»»åŠ¡ 1.3: æ·»åŠ è®¢å•ç±»å‹è¿‡æ»¤åŠŸèƒ½
**æ–‡ä»¶**: `src/pages/Orders/index.vue`

**å®ç°æ ‡ç­¾é¡µå¯¼èˆª**:
```vue
<template>
  <div class="space-y-6">
    <!-- ç°æœ‰çš„ç½‘ç»œçŠ¶æ€æ å’Œé¡µé¢æ ‡é¢˜ -->
    
    <!-- è®¢å•ç±»å‹æ ‡ç­¾é¡µ -->
    <div class="bg-white rounded-lg shadow-sm">
      <div class="border-b border-gray-200">
        <nav class="-mb-px flex space-x-8 px-6">
          <button
            v-for="tab in orderTypeTabs"
            :key="tab.key"
            @click="switchOrderType(tab.key)"
            :class="[
              'py-4 px-1 border-b-2 font-medium text-sm',
              activeOrderType === tab.key
                ? 'border-indigo-500 text-indigo-600'
                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
            ]"
          >
            {{ tab.label }}
            <span v-if="tab.count !== undefined" 
                  class="ml-2 py-0.5 px-2 text-xs rounded-full"
                  :class="activeOrderType === tab.key 
                    ? 'bg-indigo-100 text-indigo-600' 
                    : 'bg-gray-100 text-gray-600'">
              {{ tab.count }}
            </span>
          </button>
        </nav>
      </div>
    </div>

    <!-- ç°æœ‰çš„æœç´¢ã€è¿‡æ»¤å’Œè®¢å•åˆ—è¡¨ç»„ä»¶ -->
    <!-- ... -->
  </div>
</template>

<script setup>
// è®¢å•ç±»å‹æ ‡ç­¾é¡µé…ç½®
const orderTypeTabs = computed(() => [
  { key: 'all', label: 'å…¨éƒ¨è®¢å•', count: state.stats.total },
  { key: 'energy_flash', label: 'èƒ½é‡é—ªç§Ÿ', count: getOrderCountByType('energy_flash') },
  { key: 'transaction_package', label: 'ç¬”æ•°å¥—é¤', count: getOrderCountByType('transaction_package') },
  { key: 'trx_exchange', label: 'TRXé—ªå…‘', count: getOrderCountByType('trx_exchange') }
])

const activeOrderType = ref('all')

// åˆ‡æ¢è®¢å•ç±»å‹
const switchOrderType = (orderType: string) => {
  activeOrderType.value = orderType
  // æ›´æ–°è¿‡æ»¤æ¡ä»¶å¹¶é‡æ–°è·å–æ•°æ®
  state.filters.order_type = orderType === 'all' ? '' : orderType
  refreshOrders()
}
</script>
```

#### ä»»åŠ¡ 1.4: æ›´æ–°è®¢å•æœç´¢è¿‡æ»¤å™¨
**æ–‡ä»¶**: `src/pages/Orders/components/OrderSearch.vue`

**æ·»åŠ è®¢å•ç±»å‹è¿‡æ»¤å™¨**:
```vue
<!-- åœ¨ç°æœ‰è¿‡æ»¤å™¨ä¸­æ·»åŠ  -->
<div class="grid grid-cols-1 md:grid-cols-4 gap-4">
  <!-- ç°æœ‰çš„æœç´¢å’ŒçŠ¶æ€è¿‡æ»¤å™¨ -->
  
  <!-- æ–°å¢ï¼šè®¢å•ç±»å‹è¿‡æ»¤å™¨ -->
  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1">è®¢å•ç±»å‹</label>
    <select
      :value="filters.order_type || ''"
      @change="$emit('update:filters', { ...filters, order_type: $event.target.value })"
      class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
    >
      <option value="">å…¨éƒ¨ç±»å‹</option>
      <option value="energy_flash">èƒ½é‡é—ªç§Ÿ</option>
      <option value="transaction_package">ç¬”æ•°å¥—é¤</option>
      <option value="trx_exchange">TRXé—ªå…‘</option>
    </select>
  </div>
</div>
```

#### ä»»åŠ¡ 1.5: æ›´æ–°ç±»å‹å®šä¹‰å’Œå·¥å…·å‡½æ•°
**æ–‡ä»¶**: `src/pages/Orders/types/order.types.ts`

**æ›´æ–°æ¥å£å®šä¹‰**:
```typescript
export interface OrderFilters {
  search: string
  status: string
  order_type: string  // æ–°å¢å­—æ®µ
  dateRange: {
    start: string
    end: string
  }
}

export interface Order {
  // ... ç°æœ‰å­—æ®µ
  
  // ç¬”æ•°å¥—é¤ç‰¹æœ‰å­—æ®µ
  package_name?: string
  transaction_count?: number
  used_transactions?: number
  remaining_transactions?: number
  
  // TRXé—ªå…‘ç‰¹æœ‰å­—æ®µ
  exchange_rate?: number
  input_currency?: string
  output_currency?: string
  input_amount?: number
  output_amount?: number
}
```

**æ–‡ä»¶**: `src/pages/Orders/utils/orderStatus.ts`

**æ–°å¢å·¥å…·å‡½æ•°**:
```typescript
// TRXé—ªå…‘çŠ¶æ€å¤„ç†
export const getExchangeStatusText = (order: Order): string => {
  if (order.status === 'completed') return 'å…‘æ¢å®Œæˆ'
  if (order.status === 'processing') return 'å…‘æ¢ä¸­'
  if (order.status === 'failed') return 'å…‘æ¢å¤±è´¥'
  return 'å¾…å…‘æ¢'
}

export const getExchangeStatusColor = (order: Order): string => {
  if (order.status === 'completed') return 'bg-green-100 text-green-800'
  if (order.status === 'processing') return 'bg-blue-100 text-blue-800'
  if (order.status === 'failed') return 'bg-red-100 text-red-800'
  return 'bg-gray-100 text-gray-800'
}

// æŒ‰ç±»å‹è·å–è®¢å•æ•°é‡ç»Ÿè®¡
export const getOrderCountByType = (orders: Order[], orderType: string): number => {
  if (orderType === 'all') return orders.length
  return orders.filter(order => order.order_type === orderType).length
}
```

### Phase 2: åç«¯APIé€‚é…å’Œå®Œå–„ (é¢„è®¡ 1-2 å¤©)

#### ä»»åŠ¡ 2.1: å®Œå–„è®¢å•æŸ¥è¯¢API
**æ–‡ä»¶**: `api/routes/orders/order-crud.ts`

**æ”¯æŒè®¢å•ç±»å‹è¿‡æ»¤**:
```typescript
// GET /api/orders è·¯ç”±å¢å¼º
app.get('/api/orders', async (req, res) => {
  try {
    const {
      page = 1,
      limit = 20,
      search,
      status,
      order_type,  // æ–°å¢å‚æ•°
      network_id,
      start_date,
      end_date
    } = req.query

    const queryParams = {
      page: parseInt(page as string),
      limit: parseInt(limit as string),
      search: search as string,
      status: status as string,
      order_type: order_type as string,  // æ–°å¢
      networkId: network_id as string,
      startDate: start_date as string,
      endDate: end_date as string
    }

    const result = await orderQueryService.getOrdersWithFilters(queryParams)
    
    res.json({
      success: true,
      data: result.orders,
      pagination: result.pagination,
      stats: result.stats
    })
  } catch (error) {
    logger.error('Get orders error:', error)
    res.status(500).json({
      success: false,
      error: 'Failed to fetch orders'
    })
  }
})
```

#### ä»»åŠ¡ 2.2: æ›´æ–°è®¢å•æŸ¥è¯¢æœåŠ¡
**æ–‡ä»¶**: `api/services/order/OrderQueryService.ts`

**æ·»åŠ è®¢å•ç±»å‹è¿‡æ»¤é€»è¾‘**:
```typescript
async getOrdersWithFilters(params: OrderQueryParams): Promise<QueryResult> {
  try {
    let query = `
      SELECT o.*, u.username, u.first_name, u.last_name, u.telegram_id
      FROM orders o
      LEFT JOIN users u ON o.user_id = u.id
      WHERE 1=1
    `
    const conditions: string[] = []
    const values: any[] = []
    let paramIndex = 1

    // ç°æœ‰æ¡ä»¶...

    // æ–°å¢ï¼šè®¢å•ç±»å‹è¿‡æ»¤
    if (params.order_type && params.order_type !== 'all') {
      conditions.push(`o.order_type = $${paramIndex}`)
      values.push(params.order_type)
      paramIndex++
    }

    // ç»„è£…æœ€ç»ˆæŸ¥è¯¢
    if (conditions.length > 0) {
      query += ' AND ' + conditions.join(' AND ')
    }

    query += ` ORDER BY o.created_at DESC LIMIT $${paramIndex} OFFSET $${paramIndex + 1}`
    values.push(params.limit, (params.page - 1) * params.limit)

    const result = await pool.query(query, values)
    
    return {
      orders: result.rows,
      pagination: await this.getPaginationInfo(params),
      stats: await this.getOrderStats(params)
    }
  } catch (error) {
    logger.error('Query orders error:', error)
    throw error
  }
}
```

#### ä»»åŠ¡ 2.3: æ·»åŠ è®¢å•ç»Ÿè®¡æŒ‰ç±»å‹åˆ†ç»„
**æ–‡ä»¶**: `api/services/order/OrderStatsService.ts`

**åˆ›å»ºæ–°çš„ç»Ÿè®¡æœåŠ¡**:
```typescript
export class OrderStatsService {
  async getOrderStatsByType(networkId?: string): Promise<OrderTypeStats> {
    try {
      let query = `
        SELECT 
          order_type,
          COUNT(*) as total,
          COUNT(CASE WHEN status = 'completed' THEN 1 END) as completed,
          COUNT(CASE WHEN status = 'pending' THEN 1 END) as pending,
          COUNT(CASE WHEN status = 'failed' THEN 1 END) as failed,
          COALESCE(SUM(price_trx), 0) as total_revenue
        FROM orders
      `
      
      const params: any[] = []
      if (networkId) {
        query += ` WHERE network_id = $1`
        params.push(networkId)
      }
      
      query += ` GROUP BY order_type ORDER BY order_type`
      
      const result = await pool.query(query, params)
      
      return {
        energy_flash: this.extractStatsForType(result.rows, 'energy_flash'),
        transaction_package: this.extractStatsForType(result.rows, 'transaction_package'),
        trx_exchange: this.extractStatsForType(result.rows, 'trx_exchange')
      }
    } catch (error) {
      logger.error('Get order stats by type error:', error)
      throw error
    }
  }

  private extractStatsForType(rows: any[], orderType: string) {
    const row = rows.find(r => r.order_type === orderType)
    return row ? {
      total: parseInt(row.total),
      completed: parseInt(row.completed),
      pending: parseInt(row.pending),
      failed: parseInt(row.failed),
      totalRevenue: parseFloat(row.total_revenue)
    } : {
      total: 0, completed: 0, pending: 0, failed: 0, totalRevenue: 0
    }
  }
}
```

### Phase 3: ä¸šåŠ¡é€»è¾‘å®Œå–„ (é¢„è®¡ 3-4 å¤©)

#### ä»»åŠ¡ 3.1: å®Œå–„ç¬”æ•°å¥—é¤è®¢å•å¤„ç†é€»è¾‘
**æ–°å»ºæ–‡ä»¶**: `api/services/order-management/transaction-package/TransactionPackageOrderProcessor.ts`

#### ä»»åŠ¡ 3.2: å®Œå–„TRXé—ªå…‘è®¢å•å¤„ç†é€»è¾‘  
**æ–°å»ºæ–‡ä»¶**: `api/services/order-management/trx-exchange/TrxExchangeOrderProcessor.ts`

#### ä»»åŠ¡ 3.3: ç»Ÿä¸€è®¢å•ç”Ÿå‘½å‘¨æœŸç®¡ç†
**æ›´æ–°æ–‡ä»¶**: `api/services/order/OrderLifecycleService.ts`

## âœ… éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶
1. **è®¢å•åˆ—è¡¨æ˜¾ç¤º**
   - [ ] èƒ½æ­£ç¡®æ˜¾ç¤ºä¸‰ç§ç±»å‹çš„è®¢å•
   - [ ] ä¸åŒç±»å‹è®¢å•çš„ä¸šåŠ¡ä¿¡æ¯åˆ—æ˜¾ç¤ºå¯¹åº”çš„ç‰¹æœ‰å­—æ®µ
   - [ ] é€šç”¨å­—æ®µï¼ˆIDã€ç”¨æˆ·ã€é‡‘é¢ç­‰ï¼‰æ­£å¸¸æ˜¾ç¤º

2. **ç±»å‹è¿‡æ»¤åŠŸèƒ½**
   - [ ] æ ‡ç­¾é¡µåˆ‡æ¢èƒ½æ­£ç¡®è¿‡æ»¤è®¢å•ç±»å‹
   - [ ] æœç´¢è¿‡æ»¤å™¨ä¸­çš„è®¢å•ç±»å‹é€‰æ‹©å™¨å·¥ä½œæ­£å¸¸
   - [ ] ç»Ÿè®¡æ•°æ®æŒ‰ç±»å‹æ­£ç¡®æ˜¾ç¤º

3. **å…¼å®¹æ€§**
   - [ ] ç°æœ‰èƒ½é‡é—ªç§Ÿè®¢å•åŠŸèƒ½ä¸å—å½±å“
   - [ ] ç°æœ‰APIæ¥å£å‘åå…¼å®¹
   - [ ] æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½æ— æ˜æ˜¾ä¸‹é™

### æŠ€æœ¯éªŒæ”¶
1. **ä»£ç è´¨é‡**
   - [ ] TypeScript ç±»å‹å®šä¹‰å®Œæ•´
   - [ ] ç»„ä»¶èŒè´£å•ä¸€ï¼Œå¤ç”¨æ€§å¥½
   - [ ] é”™è¯¯å¤„ç†å®Œå–„

2. **æ€§èƒ½æ ‡å‡†**
   - [ ] è®¢å•åˆ—è¡¨åŠ è½½æ—¶é—´ < 2ç§’
   - [ ] ç±»å‹åˆ‡æ¢å“åº”æ—¶é—´ < 500ms
   - [ ] æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–ï¼Œé¿å…N+1é—®é¢˜

## âš ï¸ æ³¨æ„äº‹é¡¹

### å¼€å‘æ³¨æ„ç‚¹
1. **æ•°æ®å…¼å®¹æ€§**: ç°æœ‰è®¢å•æ•°æ®çš„ `order_type` å­—æ®µå¯èƒ½ä¸ºç©ºï¼Œéœ€è¦åšé»˜è®¤å€¼å¤„ç†
2. **ç»„ä»¶å¤ç”¨**: ä¼˜å…ˆå¤ç”¨ç°æœ‰ç»„ä»¶é€»è¾‘ï¼Œé¿å…é‡å¤å¼€å‘
3. **é”™è¯¯å¤„ç†**: å¯¹æœªçŸ¥è®¢å•ç±»å‹è¦æœ‰å‹å¥½çš„é”™è¯¯æç¤º
4. **å“åº”å¼è®¾è®¡**: ç¡®ä¿ç§»åŠ¨ç«¯æ˜¾ç¤ºæ•ˆæœè‰¯å¥½

### æµ‹è¯•é‡ç‚¹
1. **è¾¹ç•Œæ¡ä»¶**: ç©ºæ•°æ®ã€æœªçŸ¥ç±»å‹ã€ç½‘ç»œé”™è¯¯ç­‰åœºæ™¯
2. **æ€§èƒ½æµ‹è¯•**: å¤§é‡è®¢å•æ•°æ®çš„åŠ è½½å’Œç­›é€‰æ€§èƒ½
3. **å…¼å®¹æ€§æµ‹è¯•**: ç°æœ‰åŠŸèƒ½çš„å›å½’æµ‹è¯•

### ä¸Šçº¿æ³¨æ„
1. **æ•°æ®åº“å¤‡ä»½**: æ‰§è¡Œå‰åŠ¡å¿…å¤‡ä»½æ•°æ®åº“
2. **åˆ†æ­¥ä¸Šçº¿**: å…ˆä¸Šçº¿å‰ç«¯ç•Œé¢ï¼Œå†å®Œå–„ä¸šåŠ¡é€»è¾‘
3. **ç›‘æ§å‘Šè­¦**: å…³æ³¨æ–°åŠŸèƒ½çš„é”™è¯¯ç‡å’Œæ€§èƒ½æŒ‡æ ‡

## ğŸ“… å¼€å‘è®¡åˆ’

| é˜¶æ®µ | æ—¶é—´ | ä¸»è¦ä»»åŠ¡ | è´Ÿè´£äºº | çŠ¶æ€ |
|-----|------|---------|--------|------|
| Phase 1 | Day 1-3 | å‰ç«¯ç•Œé¢ç»Ÿä¸€é€‚é… | å‰ç«¯å¼€å‘ | å¾…å¼€å§‹ |
| Phase 2 | Day 4-5 | åç«¯APIé€‚é…å’Œå®Œå–„ | åç«¯å¼€å‘ | å¾…å¼€å§‹ |
| Phase 3 | Day 6-9 | ä¸šåŠ¡é€»è¾‘å®Œå–„ | å…¨æ ˆå¼€å‘ | å¾…å¼€å§‹ |
| Testing | Day 10-11 | é›†æˆæµ‹è¯•å’Œä¿®å¤ | QA + å¼€å‘ | å¾…å¼€å§‹ |
| Deployment | Day 12 | éƒ¨ç½²ä¸Šçº¿ | DevOps | å¾…å¼€å§‹ |

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¥æœŸ**: 2025-09-24  
**æ›´æ–°æ—¥æœŸ**: 2025-09-24  
**è´Ÿè´£äºº**: å¼€å‘å›¢é˜Ÿ

