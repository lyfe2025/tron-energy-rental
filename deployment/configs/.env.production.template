# =================================================================================================
# TRON 能量租赁系统 - 生产环境配置模板
# =================================================================================================
# 
# 使用说明：
# 1. 复制此文件为 .env.production
# 2. 根据你的服务器环境修改相应配置
# 3. 将所有 "CHANGE_THIS_XXX" 替换为实际值
# 4. 特别注意安全相关配置必须修改
# =================================================================================================

# =================================================================================================
# 🌍 基础环境配置
# =================================================================================================
NODE_ENV=production

# =================================================================================================
# 🚀 前端配置
# =================================================================================================
VITE_VUE_DEVTOOLS=false
VITE_PORT=5173
VITE_HOST=0.0.0.0
# 重要：修改为你的实际域名
VITE_API_URL=https://CHANGE_THIS_YOUR_DOMAIN.com
VITE_ALLOWED_HOSTS=CHANGE_THIS_YOUR_DOMAIN.com,www.CHANGE_THIS_YOUR_DOMAIN.com

# =================================================================================================
# 🌐 后端配置  
# =================================================================================================
PORT=3001
# 生产环境建议使用127.0.0.1，通过Nginx代理
HOST_ADDRESS=127.0.0.1

# =================================================================================================
# 🗄️ 数据库配置
# =================================================================================================
# 重要：修改数据库密码
DATABASE_URL=postgresql://tron_user:CHANGE_THIS_DB_PASSWORD@localhost:5432/tron_energy_rental
DB_HOST=localhost
DB_PORT=5432
DB_NAME=tron_energy_rental
DB_USER=tron_user
DB_PASSWORD=CHANGE_THIS_DB_PASSWORD
DB_SCHEMA=tron_energy
DB_SSL=false
DB_MAX_CONNECTIONS=50

# =================================================================================================
# 🔴 Redis 配置
# =================================================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
# 可选：设置Redis密码
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=tron_energy

# =================================================================================================
# 🔐 JWT & 安全配置 (必须修改！)
# =================================================================================================
# 重要：生成至少32位的随机字符串
JWT_SECRET=CHANGE_THIS_TO_RANDOM_32_CHARS_OR_MORE_JWT_SECRET_KEY
JWT_EXPIRES_IN=24h
SESSION_SECRET=CHANGE_THIS_TO_RANDOM_SESSION_SECRET
CSRF_SECRET=CHANGE_THIS_TO_RANDOM_CSRF_SECRET
BCRYPT_ROUNDS=12

# =================================================================================================
# ⚙️ 系统配置
# =================================================================================================
# 修改为你的管理员邮箱和密码
ADMIN_EMAIL=admin@CHANGE_THIS_YOUR_DOMAIN.com
ADMIN_PASSWORD=CHANGE_THIS_ADMIN_PASSWORD
LOG_LEVEL=info
# 生产环境更严格的频率限制
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX_REQUESTS=50

# =================================================================================================
# 🤖 Telegram 机器人配置 (如果使用)
# =================================================================================================
# TELEGRAM_BOT_TOKEN=CHANGE_THIS_YOUR_BOT_TOKEN
# TELEGRAM_WEBHOOK_URL=https://CHANGE_THIS_YOUR_DOMAIN.com/api/telegram/webhook
# TELEGRAM_ADMIN_CHAT_ID=CHANGE_THIS_ADMIN_CHAT_ID

# =================================================================================================
# 🌐 TRON 网络配置
# =================================================================================================
# 主网配置
TRON_MAINNET_API_URL=https://api.trongrid.io
TRON_MAINNET_FULL_NODE=https://api.trongrid.io
TRON_MAINNET_SOLIDITY_NODE=https://api.trongrid.io

# 测试网配置 (开发测试用)
# TRON_TESTNET_API_URL=https://api.shasta.trongrid.io
# TRON_TESTNET_FULL_NODE=https://api.shasta.trongrid.io
# TRON_TESTNET_SOLIDITY_NODE=https://api.shasta.trongrid.io

# =================================================================================================
# 📧 邮件配置 (如果使用邮件通知)
# =================================================================================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=CHANGE_THIS_EMAIL@gmail.com
# SMTP_PASS=CHANGE_THIS_EMAIL_PASSWORD

# =================================================================================================
# 📊 监控配置
# =================================================================================================
# 健康检查间隔 (毫秒)
HEALTH_CHECK_INTERVAL=30000
# 性能监控
ENABLE_PERFORMANCE_MONITORING=true
# 错误报告
ENABLE_ERROR_REPORTING=true

# =================================================================================================
# 🔒 安全配置
# =================================================================================================
# CORS配置
CORS_ORIGIN=https://CHANGE_THIS_YOUR_DOMAIN.com,https://www.CHANGE_THIS_YOUR_DOMAIN.com
# 信任的代理IP (Nginx)
TRUSTED_PROXIES=127.0.0.1,::1
# 安全头配置
ENABLE_SECURITY_HEADERS=true

# =================================================================================================
# 📝 配置检查清单
# =================================================================================================
# 
# ✅ 请确保以下配置已正确修改：
# 
# 1. VITE_API_URL - 修改为实际域名
# 2. VITE_ALLOWED_HOSTS - 修改为实际域名
# 3. DB_PASSWORD - 设置安全的数据库密码
# 4. JWT_SECRET - 生成至少32位随机字符串
# 5. SESSION_SECRET - 生成随机字符串
# 6. CSRF_SECRET - 生成随机字符串
# 7. ADMIN_EMAIL - 修改为实际管理员邮箱
# 8. ADMIN_PASSWORD - 设置安全的管理员密码
# 9. CORS_ORIGIN - 修改为实际域名
# 
# 🛡️ 安全提示：
# - 所有密码和密钥都应该是随机生成的
# - 不要在版本控制中提交包含真实密码的配置文件
# - 定期更换密码和密钥
# - 使用HTTPS加密传输
# 
# =================================================================================================
