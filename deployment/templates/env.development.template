# TRON能量租赁系统 - 开发环境配置模板
# 作者: 系统管理员
# 描述: 开发环境的环境变量配置模板

# ========================================
# 基础配置
# ========================================
NODE_ENV=development
PORT=3001
TZ=Asia/Shanghai

# ========================================
# 数据库配置
# ========================================
# PostgreSQL数据库连接
DB_HOST=localhost
DB_PORT=5432
DB_NAME=tron_energy_rental_dev
DB_USER=postgres
DB_PASSWORD=password
DB_SSL=false
DB_POOL_MIN=1
DB_POOL_MAX=5

# 数据库连接字符串 (可选)
# DATABASE_URL=postgresql://postgres:password@localhost:5432/tron_energy_rental_dev

# ========================================
# Redis配置
# ========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=1
REDIS_CLUSTER=false

# Redis连接字符串 (可选)
# REDIS_URL=redis://localhost:6379/1

# ========================================
# JWT认证配置
# ========================================
# JWT密钥 (开发环境使用简单密钥)
JWT_SECRET=dev_jwt_secret_key_for_development_only
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# ========================================
# 加密配置
# ========================================
# 数据加密密钥
ENCRYPTION_KEY=dev_encryption_key_32_characters
# 密码盐轮数 (开发环境使用较低值)
BCRYPT_ROUNDS=8

# ========================================
# TRON网络配置
# ========================================
# TRON网络类型 (开发环境使用测试网)
TRON_NETWORK=testnet
# TRON节点地址
TRON_FULL_NODE=https://api.shasta.trongrid.io
TRON_SOLIDITY_NODE=https://api.shasta.trongrid.io
TRON_EVENT_SERVER=https://api.shasta.trongrid.io
# TRON API密钥
TRON_API_KEY=your_test_tron_api_key_here

# 钱包配置 (测试网钱包)
TRON_PRIVATE_KEY=your_test_private_key_here
TRON_WALLET_ADDRESS=your_test_wallet_address_here

# ========================================
# Telegram机器人配置
# ========================================
TELEGRAM_BOT_TOKEN=your_dev_telegram_bot_token_here
TELEGRAM_WEBHOOK_URL=http://localhost:3001/api/telegram/webhook
TELEGRAM_ADMIN_CHAT_ID=your_dev_admin_chat_id

# ========================================
# 支付配置
# ========================================
# 支付网关配置 (开发环境)
PAYMENT_GATEWAY=tron
PAYMENT_WEBHOOK_SECRET=dev_payment_webhook_secret

# 汇率配置
EXCHANGE_RATE_API_KEY=your_dev_exchange_rate_api_key
EXCHANGE_RATE_UPDATE_INTERVAL=600000

# ========================================
# 日志配置
# ========================================
LOG_LEVEL=debug
LOG_FILE_PATH=./logs/dev.log
LOG_MAX_SIZE=50MB
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD

# ========================================
# 邮件配置 (开发环境可选)
# ========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_dev_email@gmail.com
SMTP_PASSWORD=your_dev_email_password
EMAIL_FROM=dev@localhost

# ========================================
# 监控和性能配置
# ========================================
# 启用性能监控
ENABLE_METRICS=true
METRICS_PORT=9090

# 启用健康检查
ENABLE_HEALTH_CHECK=true
HEALTH_CHECK_INTERVAL=60000

# 请求限制 (开发环境较宽松)
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX_REQUESTS=1000

# ========================================
# 安全配置
# ========================================
# CORS配置 (开发环境允许所有来源)
CORS_ORIGIN=*
CORS_CREDENTIALS=true

# 安全头部 (开发环境可关闭)
ENABLE_HELMET=false
ENABLE_CSRF=false

# API密钥 (可选)
API_KEY=dev_api_key_for_testing

# ========================================
# 缓存配置
# ========================================
CACHE_TTL=1800
CACHE_MAX_SIZE=500

# ========================================
# 文件上传配置
# ========================================
UPLOAD_MAX_SIZE=5242880
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf

# ========================================
# 第三方服务配置
# ========================================
# 短信服务 (开发环境可选)
SMS_PROVIDER=mock
SMS_ACCESS_KEY=dev_sms_access_key
SMS_SECRET_KEY=dev_sms_secret_key
SMS_TEMPLATE_ID=dev_sms_template_id

# 对象存储 (开发环境可选)
OSS_ENDPOINT=http://localhost:9000
OSS_ACCESS_KEY_ID=minioadmin
OSS_ACCESS_KEY_SECRET=minioadmin
OSS_BUCKET=dev-bucket

# ========================================
# 定时任务配置
# ========================================
SCHEDULER_ENABLED=true
SCHEDULER_TIMEZONE=Asia/Shanghai

# 能量池更新任务 (开发环境频率较高)
ENERGY_POOL_UPDATE_CRON=0 */1 * * * *
# 订单状态检查任务
ORDER_STATUS_CHECK_CRON=0 */1 * * * *
# 价格更新任务
PRICE_UPDATE_CRON=0 0 */6 * * *

# ========================================
# 开发和调试配置
# ========================================
DEBUG=true
ENABLE_SWAGGER=true
ENABLE_PROFILING=true

# 热重载
ENABLE_HOT_RELOAD=true
WATCH_FILES=true

# SQL查询日志
LOG_SQL_QUERIES=true

# ========================================
# 应用特定配置
# ========================================
# 最小能量租赁数量 (开发环境较小)
MIN_ENERGY_AMOUNT=100
# 最大能量租赁数量
MAX_ENERGY_AMOUNT=100000
# 默认租赁时长 (小时)
DEFAULT_RENTAL_DURATION=1

# 手续费配置 (开发环境较低)
TRANSACTION_FEE_RATE=0.001
MIN_TRANSACTION_FEE=0.1

# 用户等级配置
ENABLE_USER_LEVELS=true
VIP_DISCOUNT_RATE=0.2

# ========================================
# 备份配置
# ========================================
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 4 * * *
BACKUP_RETENTION_DAYS=7
BACKUP_STORAGE_PATH=./backups

# ========================================
# 测试配置
# ========================================
# 自动化测试
ENABLE_AUTO_TESTS=true
TEST_DATABASE_URL=postgresql://postgres:password@localhost:5432/tron_energy_rental_test

# Mock服务
ENABLE_MOCK_SERVICES=true
MOCK_TRON_API=true
MOCK_TELEGRAM_API=true
