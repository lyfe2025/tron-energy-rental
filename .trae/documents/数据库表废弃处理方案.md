# TRONèƒ½é‡ç§Ÿèµç³»ç»Ÿ - æ•°æ®åº“è¡¨åºŸå¼ƒå¤„ç†æ–¹æ¡ˆ

> **æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
> **åˆ›å»ºæ—¶é—´**: 2025-01-29  
> **é€‚ç”¨åœºæ™¯**: Redisç¼“å­˜æ¶æ„è¿ç§»  
> **é£é™©ç­‰çº§**: ä¸­ç­‰é£é™©  

## ğŸ“‹ 1. æ–¹æ¡ˆæ¦‚è¿°

### 1.1 èƒŒæ™¯è¯´æ˜
åŸºäºç”¨æˆ·æå‡ºçš„Redisç¼“å­˜æ¶æ„ä¼˜åŒ–æ–¹æ¡ˆï¼Œç³»ç»Ÿå°†é‡‡ç”¨"APIè·å–æ•°æ® â†’ Redisç¼“å­˜ â†’ é¡µé¢å±•ç¤º â†’ æ‰‹åŠ¨åˆ·æ–°æ¸…é™¤ç¼“å­˜"çš„è½»é‡çº§æ¶æ„ã€‚ç”±äºåŒºå—é“¾æµè§ˆå™¨å·²æä¾›å®Œæ•´çš„äº¤æ˜“è®°å½•ï¼Œæœ¬åœ°æ•°æ®åº“æ— éœ€æŒä¹…åŒ–å­˜å‚¨åŒºå—é“¾ç›¸å…³æ•°æ®ã€‚

### 1.2 æ ¸å¿ƒç›®æ ‡
- **ç®€åŒ–æ•°æ®åº“ç»“æ„**ï¼šç§»é™¤å†—ä½™çš„åŒºå—é“¾æ•°æ®å­˜å‚¨è¡¨
- **æå‡ç³»ç»Ÿæ€§èƒ½**ï¼šå‡å°‘æ•°æ®åº“æŸ¥è¯¢è´Ÿæ‹…ï¼Œæé«˜å“åº”é€Ÿåº¦
- **é™ä½ç»´æŠ¤æˆæœ¬**ï¼šå‡å°‘æ•°æ®åŒæ­¥å’Œä¸€è‡´æ€§ç»´æŠ¤å·¥ä½œ
- **ä¼˜åŒ–å­˜å‚¨ç©ºé—´**ï¼šé‡Šæ”¾ä¸å¿…è¦çš„æ•°æ®åº“å­˜å‚¨èµ„æº

---

## ğŸ—‘ï¸ 2. å¯åºŸå¼ƒæ•°æ®åº“è¡¨æ¸…å•

### 2.1 å®Œå…¨åºŸå¼ƒè¡¨ï¼ˆ4å¼ è¡¨ï¼‰

#### A. è´¨æŠ¼ç®¡ç†ç›¸å…³è¡¨ï¼ˆ3å¼ ï¼‰

| è¡¨å | ç”¨é€” | åºŸå¼ƒç†ç”± | å½±å“è¯„ä¼° |
|------|------|----------|----------|
| **stake_records** | è´¨æŠ¼æ“ä½œè®°å½• | è´¨æŠ¼æ“ä½œä¸åœ¨å½“å‰é¡¹ç›®è¿›è¡Œï¼Œè¡¨ä¸­æ— æ•°æ® | æ— å½±å“ |
| **delegate_records** | èµ„æºå§”æ‰˜è®°å½• | å§”æ‰˜æ“ä½œé€šè¿‡åŒºå—é“¾æµè§ˆå™¨APIè·å– | æ— å½±å“ |
| **unfreeze_records** | è§£è´¨æŠ¼è®°å½• | è§£è´¨æŠ¼æ•°æ®ä»åŒºå—é“¾æµè§ˆå™¨å®æ—¶è·å– | æ— å½±å“ |

#### B. ç»Ÿè®¡åˆ†æç›¸å…³ï¼ˆ1ä¸ªè§†å›¾ï¼‰

| å¯¹è±¡å | ç±»å‹ | ç”¨é€” | åºŸå¼ƒç†ç”± |
|--------|------|------|----------|
| **stake_statistics** | è§†å›¾ | è´¨æŠ¼ç»Ÿè®¡æ•°æ® | åŸºäºå·²åºŸå¼ƒè¡¨ç”Ÿæˆï¼Œå¤±å»æ•°æ®æº |

### 2.2 éƒ¨åˆ†å­—æ®µæ¸…ç†

#### energy_poolsè¡¨å­—æ®µæ¸…ç†ï¼ˆ7ä¸ªå­—æ®µï¼‰

| å­—æ®µå | æ•°æ®ç±»å‹ | ç”¨é€” | æ¸…ç†ç†ç”± |
|--------|----------|------|----------|
| staked_trx_energy | BIGINT | è´¨æŠ¼è·å–èƒ½é‡çš„TRXæ•°é‡ | ä»APIå®æ—¶è·å– |
| staked_trx_bandwidth | BIGINT | è´¨æŠ¼è·å–å¸¦å®½çš„TRXæ•°é‡ | ä»APIå®æ—¶è·å– |
| delegated_energy | BIGINT | å·²å§”æ‰˜èƒ½é‡æ•°é‡ | ä»APIå®æ—¶è·å– |
| delegated_bandwidth | BIGINT | å·²å§”æ‰˜å¸¦å®½æ•°é‡ | ä»APIå®æ—¶è·å– |
| pending_unfreeze_energy | BIGINT | å¾…ææ¬¾èƒ½é‡è´¨æŠ¼TRX | ä»APIå®æ—¶è·å– |
| pending_unfreeze_bandwidth | BIGINT | å¾…ææ¬¾å¸¦å®½è´¨æŠ¼TRX | ä»APIå®æ—¶è·å– |
| last_stake_update | TIMESTAMP | æœ€åè´¨æŠ¼æ›´æ–°æ—¶é—´ | ä¸å†éœ€è¦æœ¬åœ°æ›´æ–°æ—¶é—´ |

### 2.3 éœ€è¦è¯„ä¼°çš„è¡¨

| è¡¨å | å½“å‰çŠ¶æ€ | å»ºè®®å¤„ç† | è¯„ä¼°ä¾æ® |
|------|----------|----------|----------|
| **energy_transactions** | æœ‰æ•°æ® | ä¿ç•™æˆ–åºŸå¼ƒå¾…å®š | å¦‚éœ€æœ¬åœ°äº¤æ˜“çŠ¶æ€ç®¡ç†åˆ™ä¿ç•™ |
| **energy_consumption_logs** | æœ‰æ•°æ® | ä¿ç•™æˆ–åºŸå¼ƒå¾…å®š | å¦‚éœ€å†å²æ¶ˆè€—åˆ†æåˆ™ä¿ç•™ |

---

## ğŸ“Š 3. å¿…é¡»ä¿ç•™çš„æ ¸å¿ƒè¡¨

### 3.1 ä¸šåŠ¡æ ¸å¿ƒè¡¨
- **users** - ç”¨æˆ·ç®¡ç†ï¼ˆå¿…é¡»ä¿ç•™ï¼‰
- **orders** - è®¢å•ç®¡ç†ï¼ˆå¿…é¡»ä¿ç•™ï¼‰
- **energy_pools** - èƒ½é‡æ± åŸºç¡€ä¿¡æ¯ï¼ˆä¿ç•™ï¼Œä½†æ¸…ç†è´¨æŠ¼å­—æ®µï¼‰
- **energy_packages** - èƒ½é‡å¥—é¤é…ç½®ï¼ˆå¿…é¡»ä¿ç•™ï¼‰

### 3.2 ç³»ç»Ÿé…ç½®è¡¨
- **telegram_bots** - æœºå™¨äººé…ç½®ï¼ˆå¿…é¡»ä¿ç•™ï¼‰
- **pricing_strategies** - å®šä»·ç­–ç•¥ï¼ˆå¿…é¡»ä¿ç•™ï¼‰
- **admins** - ç®¡ç†å‘˜è´¦æˆ·ï¼ˆå¿…é¡»ä¿ç•™ï¼‰
- **bot_pricing_configs** - æœºå™¨äººå®šä»·é…ç½®ï¼ˆå¿…é¡»ä¿ç•™ï¼‰

---

## ğŸš€ 4. åˆ†é˜¶æ®µå®æ–½è®¡åˆ’

### é˜¶æ®µä¸€ï¼šå‡†å¤‡é˜¶æ®µï¼ˆ1-2å¤©ï¼‰

#### 4.1 æ•°æ®å¤‡ä»½
```bash
# 1. å®Œæ•´æ•°æ®åº“å¤‡ä»½
scripts/database/backup-database.sh

# 2. å•è¡¨å¤‡ä»½ï¼ˆé‡è¦è¡¨ï¼‰
pg_dump -h localhost -U postgres -d tron_energy_rental -t stake_records > backup_stake_records.sql
pg_dump -h localhost -U postgres -d tron_energy_rental -t delegate_records > backup_delegate_records.sql
pg_dump -h localhost -U postgres -d tron_energy_rental -t unfreeze_records > backup_unfreeze_records.sql
```

#### 4.2 ä¾èµ–å…³ç³»æ£€æŸ¥
```sql
-- æ£€æŸ¥å¤–é”®ä¾èµ–
SELECT 
    tc.table_name, 
    kcu.column_name, 
    ccu.table_name AS foreign_table_name,
    ccu.column_name AS foreign_column_name 
FROM 
    information_schema.table_constraints AS tc 
    JOIN information_schema.key_column_usage AS kcu
      ON tc.constraint_name = kcu.constraint_name
    JOIN information_schema.constraint_column_usage AS ccu
      ON ccu.constraint_name = tc.constraint_name
WHERE tc.constraint_type = 'FOREIGN KEY' 
  AND (tc.table_name IN ('stake_records', 'delegate_records', 'unfreeze_records')
       OR ccu.table_name IN ('stake_records', 'delegate_records', 'unfreeze_records'));
```

#### 4.3 ä»£ç å½±å“åˆ†æ
```bash
# æœç´¢ä»£ç ä¸­å¯¹åºŸå¼ƒè¡¨çš„å¼•ç”¨
grep -r "stake_records" api/ src/
grep -r "delegate_records" api/ src/
grep -r "unfreeze_records" api/ src/
grep -r "stake_statistics" api/ src/
```

### é˜¶æ®µäºŒï¼šä»£ç é€‚é…é˜¶æ®µï¼ˆ2-3å¤©ï¼‰

#### 4.4 APIæ¥å£ä¿®æ”¹
- ç§»é™¤ç›¸å…³è¡¨çš„CRUDæ¥å£
- æ›´æ–°ç»Ÿè®¡æ¥å£ï¼Œæ”¹ä¸ºä»Redisè·å–æ•°æ®
- ä¿®æ”¹å‰ç«¯è°ƒç”¨é€»è¾‘

#### 4.5 Redisç¼“å­˜å®ç°
- å®ç°åŒºå—é“¾æ•°æ®ç¼“å­˜é€»è¾‘
- æ·»åŠ ç¼“å­˜åˆ·æ–°æœºåˆ¶
- å®ç°APIæ•°æ®è·å–æœåŠ¡

### é˜¶æ®µä¸‰ï¼šæ•°æ®åº“æ¸…ç†é˜¶æ®µï¼ˆ1å¤©ï¼‰

#### 4.6 åˆ é™¤è¡¨å’Œå­—æ®µ
```sql
-- åˆ é™¤è§†å›¾
DROP VIEW IF EXISTS stake_statistics;

-- åˆ é™¤è¡¨ï¼ˆæ³¨æ„é¡ºåºï¼Œå…ˆåˆ é™¤æœ‰å¤–é”®ä¾èµ–çš„è¡¨ï¼‰
DROP TABLE IF EXISTS stake_records CASCADE;
DROP TABLE IF EXISTS delegate_records CASCADE;
DROP TABLE IF EXISTS unfreeze_records CASCADE;

-- åˆ é™¤energy_poolsè¡¨ä¸­çš„è´¨æŠ¼ç›¸å…³å­—æ®µ
ALTER TABLE energy_pools DROP COLUMN IF EXISTS staked_trx_energy;
ALTER TABLE energy_pools DROP COLUMN IF EXISTS staked_trx_bandwidth;
ALTER TABLE energy_pools DROP COLUMN IF EXISTS delegated_energy;
ALTER TABLE energy_pools DROP COLUMN IF EXISTS delegated_bandwidth;
ALTER TABLE energy_pools DROP COLUMN IF EXISTS pending_unfreeze_energy;
ALTER TABLE energy_pools DROP COLUMN IF EXISTS pending_unfreeze_bandwidth;
ALTER TABLE energy_pools DROP COLUMN IF EXISTS last_stake_update;

-- åˆ é™¤ç›¸å…³è§¦å‘å™¨
DROP TRIGGER IF EXISTS update_stake_records_updated_at ON stake_records;
DROP TRIGGER IF EXISTS update_delegate_records_updated_at ON delegate_records;
DROP TRIGGER IF EXISTS update_unfreeze_records_updated_at ON unfreeze_records;
```

#### 4.7 æ¸…ç†è¿ç§»æ–‡ä»¶
- æ ‡è®°ç›¸å…³è¿ç§»æ–‡ä»¶ä¸ºå·²åºŸå¼ƒ
- æ›´æ–°æ•°æ®åº“schemaæ–‡æ¡£

### é˜¶æ®µå››ï¼šæµ‹è¯•éªŒè¯é˜¶æ®µï¼ˆ2-3å¤©ï¼‰

#### 4.8 åŠŸèƒ½æµ‹è¯•
- éªŒè¯æ‰€æœ‰ä¸šåŠ¡åŠŸèƒ½æ­£å¸¸
- æµ‹è¯•Redisç¼“å­˜æœºåˆ¶
- éªŒè¯æ•°æ®è·å–çš„å‡†ç¡®æ€§

#### 4.9 æ€§èƒ½æµ‹è¯•
- å¯¹æ¯”æ¸…ç†å‰åçš„æŸ¥è¯¢æ€§èƒ½
- éªŒè¯ç³»ç»Ÿå“åº”æ—¶é—´æ”¹å–„
- æ£€æŸ¥å†…å­˜å’Œå­˜å‚¨ä½¿ç”¨æƒ…å†µ

---

## âš ï¸ 5. é£é™©è¯„ä¼°ä¸æ³¨æ„äº‹é¡¹

### 5.1 é«˜é£é™©é¡¹

| é£é™©é¡¹ | é£é™©ç­‰çº§ | å½±å“èŒƒå›´ | ç¼“è§£æªæ–½ |
|--------|----------|----------|----------|
| æ•°æ®ä¸¢å¤± | ğŸ”´ é«˜ | å†å²è´¨æŠ¼æ•°æ® | å®Œæ•´å¤‡ä»½ + åˆ†é˜¶æ®µæ‰§è¡Œ |
| åŠŸèƒ½å¼‚å¸¸ | ğŸŸ¡ ä¸­ | ç»Ÿè®¡åŠŸèƒ½ | å……åˆ†æµ‹è¯• + å¿«é€Ÿå›æ»šæœºåˆ¶ |
| æ€§èƒ½é—®é¢˜ | ğŸŸ¡ ä¸­ | APIå“åº” | ç›‘æ§ + ç¼“å­˜ä¼˜åŒ– |

### 5.2 å…³é”®æ³¨æ„äº‹é¡¹

#### 5.2.1 æ•°æ®å®‰å…¨
- âœ… **å¿…é¡»å¤‡ä»½**ï¼šæ‰§è¡Œä»»ä½•åˆ é™¤æ“ä½œå‰å¿…é¡»å®Œæˆå®Œæ•´å¤‡ä»½
- âœ… **åˆ†æ­¥æ‰§è¡Œ**ï¼šä¸è¦ä¸€æ¬¡æ€§åˆ é™¤æ‰€æœ‰è¡¨ï¼Œé€ä¸ªéªŒè¯
- âœ… **ä¿ç•™å¤‡ä»½**ï¼šè‡³å°‘ä¿ç•™30å¤©çš„æ•°æ®å¤‡ä»½

#### 5.2.2 ç³»ç»Ÿç¨³å®šæ€§
- âœ… **åœæœºç»´æŠ¤**ï¼šæ•°æ®åº“ç»“æ„å˜æ›´éœ€è¦åœæœºæ‰§è¡Œ
- âœ… **å›æ»šå‡†å¤‡**ï¼šå‡†å¤‡å®Œæ•´çš„å›æ»šè„šæœ¬å’Œæµç¨‹
- âœ… **ç›‘æ§å‘Šè­¦**ï¼šåŠ å¼ºç³»ç»Ÿç›‘æ§ï¼ŒåŠæ—¶å‘ç°å¼‚å¸¸

#### 5.2.3 ä¸šåŠ¡è¿ç»­æ€§
- âœ… **ç”¨æˆ·é€šçŸ¥**ï¼šæå‰é€šçŸ¥ç”¨æˆ·ç³»ç»Ÿç»´æŠ¤æ—¶é—´
- âœ… **åŠŸèƒ½éªŒè¯**ï¼šç¡®ä¿æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½ä¸å—å½±å“
- âœ… **æ•°æ®ä¸€è‡´æ€§**ï¼šéªŒè¯Redisç¼“å­˜æ•°æ®ä¸åŒºå—é“¾æ•°æ®ä¸€è‡´

---

## ğŸ”„ 6. æ•°æ®å¤‡ä»½å’Œå›æ»šç­–ç•¥

### 6.1 å¤‡ä»½ç­–ç•¥

#### 6.1.1 å¤‡ä»½å†…å®¹
```bash
# å®Œæ•´æ•°æ®åº“å¤‡ä»½
pg_dump -h localhost -U postgres -d tron_energy_rental > full_backup_$(date +%Y%m%d_%H%M%S).sql

# è¡¨ç»“æ„å¤‡ä»½
pg_dump -h localhost -U postgres -d tron_energy_rental --schema-only > schema_backup_$(date +%Y%m%d_%H%M%S).sql

# é‡è¦è¡¨æ•°æ®å¤‡ä»½
for table in stake_records delegate_records unfreeze_records; do
    pg_dump -h localhost -U postgres -d tron_energy_rental -t $table > ${table}_backup_$(date +%Y%m%d_%H%M%S).sql
done
```

#### 6.1.2 å¤‡ä»½éªŒè¯
```bash
# éªŒè¯å¤‡ä»½æ–‡ä»¶å®Œæ•´æ€§
for backup_file in *.sql; do
    echo "éªŒè¯ $backup_file"
    head -10 "$backup_file"
    tail -10 "$backup_file"
    wc -l "$backup_file"
done
```

### 6.2 å›æ»šç­–ç•¥

#### 6.2.1 å¿«é€Ÿå›æ»šï¼ˆç´§æ€¥æƒ…å†µï¼‰
```bash
# åœæ­¢æœåŠ¡
ps aux | grep -E 'tron-energy-rental|tsx.*server\.ts|vite.*5173' | grep -v grep | awk '{print $2}' | xargs kill -9 2>/dev/null || true

# æ¢å¤å®Œæ•´æ•°æ®åº“
dropdb -h localhost -U postgres tron_energy_rental
createdb -h localhost -U postgres tron_energy_rental
psql -h localhost -U postgres -d tron_energy_rental < full_backup_YYYYMMDD_HHMMSS.sql

# é‡å¯æœåŠ¡
npm run restart
```

#### 6.2.2 éƒ¨åˆ†å›æ»šï¼ˆç‰¹å®šè¡¨ï¼‰
```sql
-- æ¢å¤ç‰¹å®šè¡¨
\i stake_records_backup_YYYYMMDD_HHMMSS.sql
\i delegate_records_backup_YYYYMMDD_HHMMSS.sql
\i unfreeze_records_backup_YYYYMMDD_HHMMSS.sql

-- é‡å»ºè§†å›¾
CREATE OR REPLACE VIEW stake_statistics AS
-- [è§†å›¾å®šä¹‰å†…å®¹]
```

---

## ğŸ“ˆ 7. å®æ–½åçš„ç³»ç»Ÿä¼˜åŒ–æ•ˆæœé¢„æœŸ

### 7.1 æ€§èƒ½æå‡é¢„æœŸ

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡å¹…åº¦ |
|------|--------|--------|----------|
| æ•°æ®åº“è¡¨æ•°é‡ | ~15å¼  | ~11å¼  | -27% |
| æŸ¥è¯¢å“åº”æ—¶é—´ | 100-500ms | 50-200ms | 50-60% |
| æ•°æ®åº“å­˜å‚¨ç©ºé—´ | åŸºå‡†å€¼ | -30% | 30% |
| å†…å­˜ä½¿ç”¨ | åŸºå‡†å€¼ | -20% | 20% |

### 7.2 ç»´æŠ¤æˆæœ¬é™ä½

#### 7.2.1 å¼€å‘ç»´æŠ¤
- **å‡å°‘æ•°æ®åŒæ­¥é€»è¾‘**ï¼šæ— éœ€ç»´æŠ¤æœ¬åœ°ä¸åŒºå—é“¾çš„æ•°æ®ä¸€è‡´æ€§
- **ç®€åŒ–é”™è¯¯å¤„ç†**ï¼šå‡å°‘æ•°æ®åº“æ“ä½œå¤±è´¥çš„å¼‚å¸¸å¤„ç†
- **é™ä½æµ‹è¯•å¤æ‚åº¦**ï¼šå‡å°‘æ•°æ®åº“ç›¸å…³çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

#### 7.2.2 è¿ç»´ç»´æŠ¤
- **å‡å°‘å¤‡ä»½æ•°æ®é‡**ï¼šæ•°æ®åº“å¤‡ä»½æ–‡ä»¶å¤§å°æ˜¾è‘—å‡å°‘
- **ç®€åŒ–ç›‘æ§æŒ‡æ ‡**ï¼šå‡å°‘éœ€è¦ç›‘æ§çš„è¡¨å’ŒæŸ¥è¯¢
- **é™ä½å­˜å‚¨æˆæœ¬**ï¼šå‡å°‘æ•°æ®åº“å­˜å‚¨ç©ºé—´éœ€æ±‚

### 7.3 ç³»ç»Ÿæ¶æ„ä¼˜åŒ–

#### 7.3.1 æ¶æ„ç®€åŒ–
```
ä¼˜åŒ–å‰ï¼š
å‰ç«¯ â†’ åç«¯API â†’ æ•°æ®åº“ â†’ åŒºå—é“¾åŒæ­¥æœåŠ¡
                â†“
            å¤æ‚çš„æ•°æ®ä¸€è‡´æ€§ç»´æŠ¤

ä¼˜åŒ–åï¼š
å‰ç«¯ â†’ åç«¯API â†’ Redisç¼“å­˜ â†’ åŒºå—é“¾æµè§ˆå™¨API
                â†“
            ç®€å•çš„ç¼“å­˜åˆ·æ–°æœºåˆ¶
```

#### 7.3.2 æ•°æ®æµä¼˜åŒ–
- **å®æ—¶æ€§æå‡**ï¼šç›´æ¥ä»åŒºå—é“¾è·å–æœ€æ–°æ•°æ®
- **ä¸€è‡´æ€§ä¿è¯**ï¼šé¿å…æœ¬åœ°æ•°æ®ä¸åŒºå—é“¾æ•°æ®ä¸ä¸€è‡´
- **æ‰©å±•æ€§å¢å¼º**ï¼šæ˜“äºæ”¯æŒæ›´å¤šåŒºå—é“¾æ•°æ®ç±»å‹

---

## ğŸ“‹ 8. å®æ–½æ£€æŸ¥æ¸…å•

### 8.1 å®æ–½å‰æ£€æŸ¥
- [ ] å®Œæˆå®Œæ•´æ•°æ®åº“å¤‡ä»½
- [ ] å®Œæˆå•è¡¨æ•°æ®å¤‡ä»½
- [ ] éªŒè¯å¤‡ä»½æ–‡ä»¶å®Œæ•´æ€§
- [ ] åˆ†æä»£ç ä¾èµ–å…³ç³»
- [ ] å‡†å¤‡å›æ»šè„šæœ¬
- [ ] é€šçŸ¥ç›¸å…³äººå‘˜ç»´æŠ¤æ—¶é—´

### 8.2 å®æ–½ä¸­æ£€æŸ¥
- [ ] åœæ­¢æ‰€æœ‰ç›¸å…³æœåŠ¡
- [ ] æŒ‰é¡ºåºåˆ é™¤è¡¨å’Œå­—æ®µ
- [ ] éªŒè¯åˆ é™¤æ“ä½œæˆåŠŸ
- [ ] æ›´æ–°ç›¸å…³ä»£ç 
- [ ] å®ç°Redisç¼“å­˜é€»è¾‘

### 8.3 å®æ–½åæ£€æŸ¥
- [ ] éªŒè¯æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½æ­£å¸¸
- [ ] æµ‹è¯•Redisç¼“å­˜æœºåˆ¶
- [ ] æ£€æŸ¥ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡
- [ ] éªŒè¯æ•°æ®è·å–å‡†ç¡®æ€§
- [ ] æ›´æ–°ç³»ç»Ÿæ–‡æ¡£
- [ ] æ¸…ç†ä¸´æ—¶æ–‡ä»¶

---

## ğŸ“ 9. åº”æ€¥è”ç³»å’Œæ”¯æŒ

### 9.1 å…³é”®è”ç³»äºº
- **é¡¹ç›®è´Ÿè´£äºº**ï¼šè´Ÿè´£æ•´ä½“æ–¹æ¡ˆå†³ç­–
- **æ•°æ®åº“ç®¡ç†å‘˜**ï¼šè´Ÿè´£æ•°æ®åº“æ“ä½œæ‰§è¡Œ
- **å¼€å‘å›¢é˜Ÿ**ï¼šè´Ÿè´£ä»£ç ä¿®æ”¹å’Œæµ‹è¯•
- **è¿ç»´å›¢é˜Ÿ**ï¼šè´Ÿè´£ç³»ç»Ÿç›‘æ§å’Œæ•…éšœå¤„ç†

### 9.2 åº”æ€¥å¤„ç†æµç¨‹
1. **å‘ç°é—®é¢˜** â†’ ç«‹å³åœæ­¢æ“ä½œ
2. **è¯„ä¼°å½±å“** â†’ ç¡®å®šå½±å“èŒƒå›´å’Œä¸¥é‡ç¨‹åº¦
3. **å†³å®šæ–¹æ¡ˆ** â†’ ä¿®å¤ or å›æ»š
4. **æ‰§è¡Œå¤„ç†** â†’ æŒ‰é¢„å®šæ–¹æ¡ˆæ‰§è¡Œ
5. **éªŒè¯ç»“æœ** â†’ ç¡®è®¤é—®é¢˜è§£å†³
6. **æ€»ç»“å¤ç›˜** â†’ è®°å½•ç»éªŒæ•™è®­

---

## ğŸ“ 10. æ€»ç»“

æœ¬æ–¹æ¡ˆé€šè¿‡åºŸå¼ƒ4å¼ è´¨æŠ¼ç›¸å…³è¡¨å’Œ7ä¸ªå†—ä½™å­—æ®µï¼Œå°†ç³»ç»Ÿæ¶æ„ä»"æ•°æ®åº“æŒä¹…åŒ–"æ¨¡å¼ä¼˜åŒ–ä¸º"Redisç¼“å­˜"æ¨¡å¼ã€‚é¢„æœŸå¯ä»¥å®ç°ï¼š

- **æ€§èƒ½æå‡50-60%**ï¼šå‡å°‘æ•°æ®åº“æŸ¥è¯¢è´Ÿæ‹…
- **å­˜å‚¨ç©ºé—´èŠ‚çœ30%**ï¼šç§»é™¤å†—ä½™æ•°æ®å­˜å‚¨
- **ç»´æŠ¤æˆæœ¬é™ä½**ï¼šç®€åŒ–æ•°æ®åŒæ­¥å’Œä¸€è‡´æ€§ç»´æŠ¤
- **æ¶æ„æ›´åŠ æ¸…æ™°**ï¼šä¸“æ³¨æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½

**å…³é”®æˆåŠŸå› ç´ **ï¼š
1. å……åˆ†çš„æ•°æ®å¤‡ä»½å’Œå›æ»šå‡†å¤‡
2. åˆ†é˜¶æ®µæ¸è¿›å¼å®æ–½
3. å…¨é¢çš„åŠŸèƒ½æµ‹è¯•éªŒè¯
4. å®Œå–„çš„ç›‘æ§å’Œåº”æ€¥æœºåˆ¶

**é£é™©æ§åˆ¶**ï¼š
- æ‰€æœ‰æ“ä½œéƒ½æœ‰å®Œæ•´å¤‡ä»½ä¿éšœ
- æ¯ä¸ªé˜¶æ®µéƒ½æœ‰ç‹¬ç«‹çš„éªŒè¯å’Œå›æ»šç‚¹
- å…³é”®ä¸šåŠ¡åŠŸèƒ½ä¼˜å…ˆä¿è¯
- 24å°æ—¶åº”æ€¥å“åº”æœºåˆ¶

é€šè¿‡æœ¬æ–¹æ¡ˆçš„å®æ–½ï¼ŒTRONèƒ½é‡ç§Ÿèµç³»ç»Ÿå°†è·å¾—æ›´é«˜çš„æ€§èƒ½ã€æ›´ä½çš„ç»´æŠ¤æˆæœ¬å’Œæ›´æ¸…æ™°çš„æ¶æ„è®¾è®¡ã€‚