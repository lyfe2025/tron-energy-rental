<template>
  <!-- ç”¨æˆ·ç¾¤ä½“è®¾ç½® -->
  <el-card class="mb-6">
    <template #header>
      <div class="card-header">
        <span class="text-gray-900">ğŸ‘¥ ç”¨æˆ·ç¾¤ä½“è®¾ç½®</span>
      </div>
    </template>
    
    <el-form :model="settings" label-width="160px">
      
      <el-form-item label="é»˜è®¤æ¥æ”¶ç¾¤ä½“">
        <el-checkbox-group v-model="settings.defaultAudience">
          <el-checkbox label="allUsers">æ‰€æœ‰ç”¨æˆ·</el-checkbox>
          <el-checkbox label="activeUsers">æ´»è·ƒç”¨æˆ·</el-checkbox>
          <el-checkbox label="agents">ä»£ç†ç”¨æˆ·</el-checkbox>
          <el-checkbox label="vipUsers">VIPç”¨æˆ·</el-checkbox>
          <el-checkbox label="newUsers">æ–°ç”¨æˆ·</el-checkbox>
        </el-checkbox-group>
      </el-form-item>

      <el-form-item label="æ’é™¤ç¾¤ä½“">
        <el-checkbox-group v-model="settings.excludeGroups">
          <el-checkbox label="inactiveUsers">éæ´»è·ƒç”¨æˆ·</el-checkbox>
          <el-checkbox label="blockedUsers">å·²å±è”½ç”¨æˆ·</el-checkbox>
          <el-checkbox label="optOutUsers">å–æ¶ˆè®¢é˜…ç”¨æˆ·</el-checkbox>
          <el-checkbox label="testUsers">æµ‹è¯•ç”¨æˆ·</el-checkbox>
        </el-checkbox-group>
      </el-form-item>

      <el-form-item label="æ™ºèƒ½æ¨é€">
        <el-row :gutter="20">
          <el-col :span="8">
            <el-switch 
              v-model="settings.smartDelivery"
              active-text="å¯ç”¨"
              inactive-text="ç¦ç”¨"
            />
            <div class="text-sm text-gray-600 mt-1">
              æ ¹æ®ç”¨æˆ·æ´»è·ƒæ—¶é—´æ™ºèƒ½æ¨é€
            </div>
          </el-col>
          <el-col :span="8">
            <el-switch 
              v-model="settings.personalizedContent"
              active-text="å¯ç”¨"
              inactive-text="ç¦ç”¨"
            />
            <div class="text-sm text-gray-600 mt-1">
              æ ¹æ®ç”¨æˆ·åå¥½ä¸ªæ€§åŒ–å†…å®¹
            </div>
          </el-col>
          <el-col :span="8">
            <el-switch 
              v-model="settings.adaptiveScheduling"
              active-text="å¯ç”¨"
              inactive-text="ç¦ç”¨"
            />
            <div class="text-sm text-gray-600 mt-1">
              è‡ªé€‚åº”å‘é€æ—¶é—´è°ƒæ•´
            </div>
          </el-col>
        </el-row>
      </el-form-item>

    </el-form>
  </el-card>
</template>

<script setup lang="ts">
import type { AudienceSettings } from '../types/settings.types';

interface Props {
  settings: AudienceSettings
}

defineProps<Props>()
</script>

<style scoped>
:deep(.el-card) {
  @apply bg-white border-gray-200;
}

:deep(.el-card__header) {
  @apply bg-gray-50 border-gray-200;
}

.card-header {
  @apply flex items-center justify-between;
}

:deep(.el-form-item__label) {
  @apply text-gray-700;
}

:deep(.el-checkbox__input.is-checked .el-checkbox__inner) {
  @apply bg-green-600 border-green-600;
}

:deep(.el-switch__core) {
  @apply bg-gray-600;
}

:deep(.el-switch.is-checked .el-switch__core) {
  @apply bg-green-600;
}
</style>
