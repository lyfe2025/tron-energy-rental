# =================================================================================================
# TRON 能量租赁系统 - 环境配置文件
# =================================================================================================

# =================================================================================================
# 🌍 基础环境配置
# =================================================================================================
# development = 开发环境（显示调试信息、启用开发工具）
# production  = 生产环境（最小化输出、禁用调试功能）
NODE_ENV=development

# =================================================================================================
# 🚀 前端配置
# =================================================================================================
VITE_VUE_DEVTOOLS=false
VITE_PORT=5173
# 前端监听地址
VITE_HOST=0.0.0.0
# 后端API地址
VITE_API_URL=http://localhost:3001
# 允许访问的主机
VITE_ALLOWED_HOSTS=localhost,127.0.0.1,tron.local,www.tron.local

# =================================================================================================
# 🌐 后端配置  
# =================================================================================================
PORT=3001
# HOST_ADDRESS: 服务器监听地址
# - 开发环境: localhost (仅本地访问)
# - 生产环境: 0.0.0.0 (允许外部访问，配合公网IP/域名使用)
HOST_ADDRESS=0.0.0.0

# =================================================================================================
# 🗄️ 数据库配置
# =================================================================================================
DATABASE_URL=postgresql://db_tron_admin:AZDTswBsRbhTpbAm@localhost:5432/tron_energy
DB_HOST=localhost
DB_PORT=5432
DB_NAME=tron_energy
DB_USER=db_tron_admin
DB_PASSWORD=AZDTswBsRbhTpbAm
DB_SCHEMA=tron_energy
DB_SSL=false
DB_MAX_CONNECTIONS=50

# =================================================================================================
# 🔴 Redis 配置
# =================================================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=tron_energy

# =================================================================================================
# 🔐 JWT & 安全配置
# =================================================================================================
JWT_SECRET=tron-energy-rental-super-secret-jwt-key-2024-production-ready
JWT_EXPIRES_IN=24h
SESSION_SECRET=your-session-secret-change-this
CSRF_SECRET=your-csrf-secret-change-this
BCRYPT_ROUNDS=12

# =================================================================================================
# ⚙️ 系统配置
# =================================================================================================
ADMIN_EMAIL=admin@tronrental.com
ADMIN_PASSWORD=admin123456
LOG_LEVEL=info
# 每15分钟内，同一IP最多可以发起100次API请求
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX_REQUESTS=100

# =================================================================================================
# 🚀 生产环境配置示例
# =================================================================================================
# 部署到生产服务器时，需要修改以下配置：

# 📦 方案一：同服务器部署（推荐）
# 前后端在同一台服务器，使用 Nginx 反向代理
# -----------------------------------------------------------------------------------------
# NODE_ENV=production
# VITE_HOST=0.0.0.0                           # 前端监听所有接口
# VITE_API_URL=http://localhost:3001          # 保持不变，Nginx 代理处理
# VITE_ALLOWED_HOSTS=your-domain.com,www.your-domain.com,api.your-domain.com
# HOST_ADDRESS=0.0.0.0                        # 后端监听所有接口
# 
# Nginx 配置示例：
# server {
#     listen 80;
#     server_name your-domain.com www.your-domain.com;
#     location / { proxy_pass http://localhost:5173; }      # 前端
#     location /api { proxy_pass http://localhost:3001; }   # API
# }

# 📡 方案二：分离部署
# 前后端在不同服务器
# -----------------------------------------------------------------------------------------
# 前端服务器配置：
# NODE_ENV=production
# VITE_HOST=0.0.0.0
# VITE_API_URL=https://api.your-domain.com    # 指向后端API服务器
# VITE_ALLOWED_HOSTS=your-domain.com,www.your-domain.com
#
# 后端服务器配置：
# NODE_ENV=production
# HOST_ADDRESS=0.0.0.0
# PORT=3001

# 🔐 生产环境安全配置（必须修改）
# -----------------------------------------------------------------------------------------
# JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long
# SESSION_SECRET=your-session-secret-change-this-to-random-string
# CSRF_SECRET=your-csrf-secret-change-this-to-random-string
# ADMIN_PASSWORD=change-this-default-password
# DB_PASSWORD=change-this-database-password
# REDIS_PASSWORD=set-redis-password-if-needed

# 🌐 网络安全配置
# -----------------------------------------------------------------------------------------
# RATE_LIMIT_WINDOW=900000                    # 可适当降低时间窗口
# RATE_LIMIT_MAX_REQUESTS=50                  # 生产环境建议更严格的限制
# =================================================================================================
