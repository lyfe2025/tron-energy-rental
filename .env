# =================================================================================================
# TRON 能量租赁系统 - 环境配置文件
# =================================================================================================

# =================================================================================================
# 🚀 前端配置 (VITE_)
# =================================================================================================
# Vue DevTools 控制 - 设置为 false 可以完全禁用 Vue DevTools  
VITE_VUE_DEVTOOLS=true

# 前端环境和API配置
# 前端应用环境标识
# development = 开发环境（显示调试信息、启用开发工具）
# staging     = 预发布环境（接近生产但保留部分调试功能）
# production  = 生产环境（最小化输出、禁用调试功能）
VITE_ENV=development
VITE_API_URL=http://localhost:3001


# 前端服务端口
VITE_PORT=5173

# =================================================================================================
# 🌍 环境和服务器配置
# =================================================================================================
# 运行环境
NODE_ENV=development

# 后端服务配置
PORT=3001
HOST_ADDRESS=localhost
API_BASE_URL=http://localhost:3001

# =================================================================================================
# 🗄️ 数据库配置 (PostgreSQL)
# =================================================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=tron_energy_rental
DB_USER=postgres
DB_PASSWORD=postgres
DB_SCHEMA=tron_energy
DB_SSL=false

# 数据库连接字符串
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/tron_energy_rental

# 数据库连接池配置
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=2000

# =================================================================================================
# 🔴 Redis 配置
# =================================================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=tron_energy

# Redis 缓存TTL配置
REDIS_SESSION_TTL=86400
REDIS_CACHE_TTL=3600

# =================================================================================================
# 🔐 JWT 配置
# =================================================================================================
JWT_SECRET=tron-energy-rental-super-secret-jwt-key-2024-production-ready
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# =================================================================================================
# ⚙️ 系统配置
# =================================================================================================
# 管理员账户配置
ADMIN_EMAIL=admin@tronrental.com
ADMIN_PASSWORD=admin123456

# 系统信息
SUPPORT_EMAIL=support@example.com
SYSTEM_NAME=TRON能量租赁系统
SYSTEM_VERSION=1.0.0

# =================================================================================================
# 📊 日志配置
# =================================================================================================
LOG_LEVEL=info
LOG_FILE=logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD

# =================================================================================================
# 🔒 安全配置
# =================================================================================================
# API 限流配置
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX_REQUESTS=100

# 密码和会话安全
BCRYPT_ROUNDS=12
SESSION_SECRET=your-session-secret-change-this
CSRF_SECRET=your-csrf-secret-change-this

# =================================================================================================
# 📝 配置迁移说明
# =================================================================================================
# 以下配置已迁移到数据库管理，不再从环境变量读取：
#
# ⚡ TRON网络配置 -> tron_networks表
#   - TRON_NETWORK, TRON_FULL_NODE, TRON_SOLIDITY_NODE
#   - TRON_EVENT_SERVER, TRON_PRIVATE_KEY, TRON_ADDRESS
#   - TRON_API_KEY
#
# 🤖 Telegram机器人配置 -> telegram_bots表  
#   - TELEGRAM_BOT_TOKEN, TELEGRAM_WEBHOOK_URL
#   - TELEGRAM_WEBHOOK_SECRET, TELEGRAM_ADMIN_CHAT_ID
#
# ⚡ 能量租赁业务配置 -> system_configs表
#   - MIN_ENERGY_AMOUNT, MAX_ENERGY_AMOUNT
#   - MIN_RENTAL_DURATION, MAX_RENTAL_DURATION
#   - DEFAULT_ENERGY_PRICE, ENERGY_POOL_RESERVE_RATIO
#   - AUTO_REFILL_THRESHOLD
#
# 👥 代理系统配置 -> system_configs表
#   - AGENT_COMMISSION_RATE, AGENT_MIN_BALANCE
#   - AGENT_WITHDRAWAL_MIN, AGENT_WITHDRAWAL_FEE
#   - AGENT_LEVEL_THRESHOLDS
#
# 通过管理界面或API可以动态修改这些配置
# =================================================================================================
WEBHOOK_BASE_URL=https://ed1cfac836d2.ngrok-free.app/api/telegram/webhook
